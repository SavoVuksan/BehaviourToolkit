[gd_scene load_steps=10 format=3 uid="uid://bch3c67qwwk8e"]

[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/fsm.gd" id="1_rqetb"]
[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/fsm_state.gd" id="2_jm4a5"]
[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/fsm_transition_v2.gd" id="3_nxel3"]
[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/fsm_transition_condition.gd" id="4_q51re"]
[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/state_debug_label.gd" id="5_ulgoh"]
[ext_resource type="Script" path="res://addons/behaviour_toolkit/finite_state_machine/last_transition_debug_label.gd" id="6_div21"]

[sub_resource type="Resource" id="Resource_5unu6"]
script = ExtResource("4_q51re")
invert = true
condition = "Input.is_action_pressed(\"ui_accept\")"

[sub_resource type="Resource" id="Resource_04p16"]
script = ExtResource("4_q51re")
invert = false
condition = "Input.is_action_pressed(\"ui_left\")"

[sub_resource type="Resource" id="Resource_vs5gh"]
script = ExtResource("4_q51re")
invert = false
condition = "Input.is_action_pressed(\"ui_right\")"

[node name="TransitionV2Example" type="Node2D"]

[node name="FiniteStateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state", "actor")]
script = ExtResource("1_rqetb")
autostart = true
initial_state = NodePath("FSMState")
actor = NodePath("..")

[node name="FSMState" type="Node" parent="FiniteStateMachine"]
script = ExtResource("2_jm4a5")

[node name="FsmTransitionV2" type="Node" parent="FiniteStateMachine/FSMState" node_paths=PackedStringArray("next_state")]
script = ExtResource("3_nxel3")
next_state = NodePath("../../FSMState2")
conditions = Array[ExtResource("4_q51re")]([SubResource("Resource_5unu6"), SubResource("Resource_04p16")])

[node name="FSMState2" type="Node" parent="FiniteStateMachine"]
script = ExtResource("2_jm4a5")

[node name="FsmTransitionV2" type="Node" parent="FiniteStateMachine/FSMState2" node_paths=PackedStringArray("next_state")]
script = ExtResource("3_nxel3")
next_state = NodePath("../../FSMState")
conditions = Array[ExtResource("4_q51re")]([SubResource("Resource_vs5gh")])

[node name="VBoxContainer" type="VBoxContainer" parent="FiniteStateMachine"]
offset_right = 40.0
offset_bottom = 40.0

[node name="StateDebugLabel" type="Label" parent="FiniteStateMachine/VBoxContainer"]
layout_mode = 2
script = ExtResource("5_ulgoh")

[node name="LastTransitionDebugLabel" type="Label" parent="FiniteStateMachine/VBoxContainer"]
layout_mode = 2
script = ExtResource("6_div21")
